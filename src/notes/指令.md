# 指令

> Angular 提供了两种内置指令：属性型指令和结构型指令。
>
> 结构型指令的职责是 HTML 布局。会改变 DOM 结构，以星号（*）加指令的属性名作为标识

## 属性型指令

> 属性型指令用于改变一个 DOM 元素的外观或行为，不会改变 DOM 结构。

### 组件是一种特殊的指令

为了验证这一点，我们来修改一点我们以前<code>app-ng-for</code>组件的代码：

```typescript
// ng-for.component.ts
// 修改组件里selector为属性选择器形式（我们之前说过，这里的值就是一个选择器而已）
@Component({
  selector: '[app-ng-for]',
  // ...
})
```

接下来，我们修改下调用组件的方式：

```typescript
// app.component.html
// 我们将div作为指令的宿主，app-ng-for作为一个属性即可
<div app-ng-for></div>
```

经过上面的改动，发现ng-for组件依然可以正常运行。从而证明了，组件是一种特殊的指令。

### 自定义属性型指令

1. cli在<code>src/directives</code>下自动生成highLight指令（当用户把鼠标悬停在一个元素上时，改变它的背景色）：

``` 
ng g d directives/highlight 
```

来看一下生成的默认代码：

```typescript
// highlight.directive.ts
import { Directive } from '@angular/core';
@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  constructor() { }
}
```

可以看出，代码结构跟组件类似，使用了<code>@Directive</code>装饰器，传入的<code>selector</code>的值是属性选择器。并且，在<code>app.module.ts</code>中被自动引入：

```typescript
// app.module.ts
import { HighlightDirective } from './directives/highlight.directive';
...
@NgModule({
  declarations: [
    // ...
    HighlightDirective
  ],
  // ...
})
...
```

2. 使用：

```html
<!-- app.component.html -->
<p appHighlight>Highlight me!</p>
```

使用方式是如此简单，但是，根本没有任何效果啊。接下来，我们开始写正式的指令代码。

3. 实现指令：

首先，我们先分析下步骤：

- 找到我们要操作的DOM元素；

- 给元素添加鼠标移入移出事件；

- 修改传入的任意背景颜色；


